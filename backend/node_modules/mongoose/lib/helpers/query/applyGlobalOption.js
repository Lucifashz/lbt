'use strict';

const utils = require('../../utils');

<<<<<<< HEAD
function applyGlobalMaxTimeMS(options, model) {
  applyGlobalOption(options, model, 'maxTimeMS');
}

function applyGlobalDiskUse(options, model) {
  applyGlobalOption(options, model, 'allowDiskUse');
=======
function applyGlobalMaxTimeMS(options, connectionOptions, baseOptions) {
  applyGlobalOption(options, connectionOptions, baseOptions, 'maxTimeMS');
}

function applyGlobalDiskUse(options, connectionOptions, baseOptions) {
  applyGlobalOption(options, connectionOptions, baseOptions, 'allowDiskUse');
>>>>>>> bd117058ee4d01e6fc9596bc87d402f7f452659e
}

module.exports = {
  applyGlobalMaxTimeMS,
  applyGlobalDiskUse
};


<<<<<<< HEAD
function applyGlobalOption(options, model, optionName) {
=======
function applyGlobalOption(options, connectionOptions, baseOptions, optionName) {
>>>>>>> bd117058ee4d01e6fc9596bc87d402f7f452659e
  if (utils.hasUserDefinedProperty(options, optionName)) {
    return;
  }

<<<<<<< HEAD
  if (utils.hasUserDefinedProperty(model.db.options, optionName)) {
    options[optionName] = model.db.options[optionName];
  } else if (utils.hasUserDefinedProperty(model.base.options, optionName)) {
    options[optionName] = model.base.options[optionName];
=======
  if (utils.hasUserDefinedProperty(connectionOptions, optionName)) {
    options[optionName] = connectionOptions[optionName];
  } else if (utils.hasUserDefinedProperty(baseOptions, optionName)) {
    options[optionName] = baseOptions[optionName];
>>>>>>> bd117058ee4d01e6fc9596bc87d402f7f452659e
  }
}
